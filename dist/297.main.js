"use strict";(self.webpackChunkens_orb=self.webpackChunkens_orb||[]).push([[297],{6297:(e,t,a)=>{a.r(t),a.d(t,{default:()=>C});var r=a(7294),n=a(3524),s=a(8687),i=a(3461);const l=function(e){var t=e.data,a=e.originalQuery,n=(new Date).toLocaleString("en-US",{hour12:!1});return 0==!a.length?t.length==a.length?r.createElement("div",{className:"sec-Query_Download",ready:"true"},r.createElement(i.CSVLink,{data:t,filename:"ENS.ORB.EXPORT_"+n+".csv"},"Download")):r.createElement("div",{className:"sec-Query_Download",ready:"loading"},r.createElement("span",{href:"#"},"Loading...")):r.createElement("div",{className:"sec-Query_Download",ready:"false"},r.createElement("span",{href:"#"},"Download"))};var o=a(9521);function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},u.apply(this,arguments)}const c=function(e){var t=e.columns,a=e.data,n=(0,o.useTable)({columns:t,data:a},o.useSortBy),s=n.getTableProps,i=n.getTableBodyProps,l=n.headerGroups,c=n.rows,d=n.prepareRow;return r.createElement("table",u({},s(),{className:"sec-Query_Table",id:"sec-Query_Table"}),r.createElement("thead",null,l.map((function(e){return r.createElement("tr",e.getHeaderGroupProps(),e.headers.map((function(e){return r.createElement("th",e.getHeaderProps([{className:e.headerClassName},e.getSortByToggleProps()]),e.render("Header"),r.createElement("span",{className:"sec-Query_TableSort"},e.isSorted?e.isSortedDesc?" ↓":" ↑":""))})))}))),r.createElement("tbody",u({},i(),{className:"sec-Query_TableBody"}),c.map((function(e,t){return d(e),r.createElement("tr",e.getRowProps(),e.cells.map((function(e){return r.createElement("td",e.getCellProps([{className:e.column.dataClassName}]),e.render("Cell"))})))}))))};function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}var m;function h(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function y(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(u,e);var t,a,n,i,o=(n=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p(n);if(i){var a=p(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return y(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=o.call(this,e)).handleChange=t.handleChange.bind(b(t)),t.handleSubmit=t.handleSubmit.bind(b(t)),t.setCommas=t.setCommas.bind(b(t)),t.setParser=t.setParser.bind(b(t)),t.setLines=t.setLines.bind(b(t)),t.unixTimeConverter=t.unixTimeConverter.bind(b(t)),t.state={originalQuery:[],delimiter:",",wildcard:!1,results:[],value:"",parse:!1},t}return t=u,a=[{key:"unixTimeConverter",value:function(e){return new Date(1e3*e)}},{key:"setParser",value:function(e){var t=e.target;t.hasAttribute("toggled")?(t.removeAttribute("toggled"),this.setState({parse:!1})):(t.setAttribute("toggled",""),this.setState({parse:!0}))}},{key:"setCommas",value:function(e){var t=e.target,a=document.querySelector("[data-delimiter-button='lines']");a.hasAttribute("toggled")&&a.removeAttribute("toggled"),t.setAttribute("toggled",""),this.setState({delimiter:","})}},{key:"setLines",value:function(e){var t=e.target,a=document.querySelector("[data-delimiter-button='commas']");a.hasAttribute("toggled")&&a.removeAttribute("toggled"),t.setAttribute("toggled",""),this.setState({delimiter:"\n"})}},{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this,a=this.state.value.split(this.state.delimiter);a.forEach((function(e,r){1==t.state.parse?a[r]=e.normalize("NFD").replace(/[^-a-zA-Z0-9\u00a9\u00ae\u0300-\u036f\u2000-\u3300\ud83c\ud000-\udfff\ud83d\ud000-\udfff\ud83e\ud000-\udfff]/gi,"").replace(/ /g,"").replace(".eth","").toLowerCase():a[r]=e.normalize("NFD").replace(/ /g,"").replace(".eth","").toLowerCase()})),a=a.filter((function(e){return!!e&&e.length>=3})).reduce((function(e,t){return e.indexOf(t)<0&&e.push(t),e}),[]),this.setState({originalQuery:a});var r=[];!function e(n,i){var l=a[n];if(!l)return i();!function(e,a){var n,i,l=new s.GraphQLClient("https://api.thegraph.com/subgraphs/name/ensdomains/ens",{credentials:"*",mode:"cors"}),o=(0,s.gql)(m||(n=["\n        query ($labelName: String!){\n          registrations (where: {labelName: $labelName}) {\n            cost\n            domain {\n              name\n              owner {\n                id\n              }\n            }\n            registrationDate\n            expiryDate\n          }\n        }\n      "],i||(i=n.slice(0)),m=Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(i)}})))),u={labelName:String(e)};l.request(o,u).then((function(n){if(a(),void 0===n.registrations[0]||0==n.registrations[0].length){var s,i,l=e+".eth",o=e.replace(/[^-a-zA-Z0-9\u00a9\u00ae\u0300-\u036f\u2000-\u3300\ud83c\ud000-\udfff\ud83d\ud000-\udfff\ud83e\ud000-\udfff]/gi,"");i=e.length!=o.length?"invalid":"available",s=3==e.length?"$640":4==e.length?"$140":"$5",r.push({address:l,availability:i,registration:"--".toLocaleString("en-GB",{hour12:!1}),expiry:"--".toLocaleString("en-GB",{hour12:!1}),cost:s}),t.setState({results:r})}else{var u,c=n.registrations[0].domain.name,d=new Date,m=t.unixTimeConverter(n.registrations[0].registrationDate),h=t.unixTimeConverter(n.registrations[0].expiryDate),f=new Date(h);f.setDate(f.getDate()+90);var y=new Date(f);y.setDate(y.getDate()+28);var b=e.replace(/[^-a-zA-Z0-9\u00a9\u00ae\u0300-\u036f\u2000-\u3300\ud83c\ud000-\udfff\ud83d\ud000-\udfff\ud83e\ud000-\udfff]/gi,""),p="";p="available"==(u=e.length!=b.length?"invalid":f<d&&y>d?"premium":d>y?"available":"unavailable")?3==c.length?"$640":4==c.length?"$140":"$5":"premium"==u?"$"+(p=41335978835978834e-21*(y-d)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"--",r.push({address:c,availability:u,registration:m.toLocaleString("en-GB",{hour12:!1}),expiry:h.toLocaleString("en-GB",{hour12:!1}),cost:p}),t.setState({results:r})}}))}(l,(function(t){e(++n,i)}))}(0,(function(){})),e.preventDefault()}},{key:"render",value:function(){return r.createElement(r.Fragment,null,r.createElement("div",{className:"sec-Query_Controls"},r.createElement("div",{className:"sec-Query_Parsers"}),r.createElement("div",{className:"sec-Query_Delimiters"},r.createElement("input",{className:"sec-Query_Delimiter",toggled:"true",onClick:this.setCommas,"data-delimiter-button":"commas",type:"button",value:"Comma"}),r.createElement("input",{className:"sec-Query_Delimiter",onClick:this.setLines,"data-delimiter-button":"lines",type:"button",value:"New Line"})),r.createElement("div",{className:"sec-Query_Parsers"},r.createElement("input",{className:"sec-Query_Parser",onClick:this.setParser,"data-delimiter-button":"lines",type:"button",value:"Remove Invalid Characters"}))),r.createElement("div",{className:"sec-Query_Query"},r.createElement("form",{className:"sec-Query_Form sec-Query_Form-entry",onSubmit:this.handleSubmit},r.createElement("textarea",{value:this.state.value,onChange:this.handleChange,spellCheck:"false",placeholder:">>>> Notes:\n>\n> - Addresses\n>\n>   It doesn’t matter whether or not you include\n>   the ens ‘.eth’ extension, the app will handle\n>   whatever you enter accordingly.\n>   \n>   Toggling the 'Remove Invalid Characters' button\n>   will remove all characters that will inevitably\n>   turn up an invalid, and ultimately\n>   unregisterable address.\n>\n>\n> - Registration/Expiry Dates\n>\n>   These values just represent the most recent \n>   registration or expiry date, if there isn't \n>   one, it'll be represented as '--', meaning \n>   the name has never been registered before.\n>\n>\n> - Availability\n>\n>   Availability is represented by three colours:\n>   \n>   Red : Unavailable\n>   Orange : Premium\n>   Green : Available\n>   Grey : Invalid\n>\n>\n> - Requests\n>\n>   This is probably going to be a pretty niche \n>   utility, but if you do have a request for a \n>   feature that you'd like to be added: just submit \n>   a issue on the Github.\n>\n>   Github: https://github.com/alruban/ens-orb\n>\n>\n>                      ,.,*                       \n>               ..,*   ..,/,     ,,               \n>               .,*/   ,,,*     ..,/              \n>               .,,/   ..,*     ..*/              \n>       ..,    ..,,*  ..,,/    ..*//              \n>      ,,,*    .,,**  .,**/   ..,**               \n>       ,**/   ,,,*/ ,.,,*/  ..,**/               \n>       ,,**   ,..,* ...,*  ...,,*                \n>       ,,**/  ,..,/ ,,,*/  ..,,*.                \n>        ,,,*  ,..,,. ..,* ..,,**                 \n>        ,.,,*  .,,....,..  ..**                  \n>        ,,...........,,....,,*/            ,,,*  \n>        ,.......,,,*.,,,,,,*,**        ...,,,**  \n>        ....,,,,,,,,,,,,....,*/      ...,,**     \n>         ,...,,,,,*,,.,...,,.,,/.  ..,,***       \n>         ,,,,,,,,,,,,.........,,*,,.,***         \n>         ,,...,,,,,,... .  ....,,,,,,*           \n>          ,,,,.,,,,,.    ....,,,,,***            \n>          *,,,...,.... ...,,,,***//              \n>           **,,,,,,,..,,,,,*****,                \n>            ******,,,***//////                   \n>            *,,,,,,,**/////*                     \n>            .,.,...,,*******                     \n>            .......,,,,*****                     \n>            ........,,,,,***                     \n>\n>\n>\n"}),r.createElement("div",{className:"sec-Query_Tools"},r.createElement("input",{className:"sec-Query_Button",type:"submit",value:"Submit"}),r.createElement(l,{data:this.state.results,originalQuery:this.state.originalQuery})))),r.createElement("div",{className:"sec-Query_Response"},r.createElement(c,{data:this.state.results,columns:[{Header:"Address",headerClassName:"sec-Query_TableHeader sec-Query_TableHeader-address",accessor:"address",dataClassName:"sec-Query_TableData sec-Query_TableData-address",Cell:function(e){var t=e.value;return r.createElement("a",{href:"https://app.ens.domains/name/"+t+"/register"},t)}},{Header:"Registration Date",headerClassName:"sec-Query_TableHeader sec-Query_TableHeader-registration",accessor:"registration",dataClassName:"sec-Query_TableData sec-Query_TableData-registration",Cell:function(e){var t=e.row,a=e.value;return r.createElement("a",{href:"https://app.ens.domains/name/"+t.original.address+"/register"}," ",a," ")},disableSortBy:!0},{Header:"Expiry Date",headerClassName:"sec-Query_TableHeader sec-Query_TableHeader-expiry",accessor:"expiry",dataClassName:"sec-Query_TableData sec-Query_TableData-expiry",Cell:function(e){var t=e.row,a=e.value;return r.createElement("a",{href:"https://app.ens.domains/name/"+t.original.address+"/register"},a)},disableSortBy:!0},{Header:"Availability",headerClassName:"sec-Query_TableHeader sec-Query_TableHeader-availability",accessor:"availability",dataClassName:"sec-Query_TableData sec-Query_TableData-available",Cell:function(e){var t=e.row,a=e.value;return r.createElement("a",{href:"https://app.ens.domains/name/"+t.original.address+"/register"},r.createElement("div",{className:"sec-Query_TableData-availability","data-address-availability":a}))}},{Header:"Cost",headerClassName:"sec-Query_TableHeader sec-Query_TableHeader-cost",accessor:"cost",dataClassName:"sec-Query_TableData sec-Query_TableData-cost",Cell:function(e){var t=e.row,a=e.value;return r.createElement("a",{href:"https://app.ens.domains/name/".concat(t.original.address,".eth/register")},a)},sortMethod:function(e,t){return Number(e)-Number(t)}}]})))}}],a&&h(t.prototype,a),Object.defineProperty(t,"prototype",{writable:!1}),u}(r.Component);const v=g;var _=a(6492),E=a(6968),N=a(5276);function Q(){return r.createElement("div",{className:"sec-Author"},r.createElement("div",{className:"sec-Author_Inner"},r.createElement("div",{className:"sec-Author_Content"},r.createElement("div",{className:"sec-Author_Links"},r.createElement("a",{className:"sec-Author_Link",href:"https://chat.blockscan.com/index"},r.createElement(_.Q,{src:E,beforeInjection:function(e){e.classList.add("sec-Author_Icon")}})),r.createElement("a",{className:"sec-Author_Text",href:"https://etherscan.io"},"alruban.eth"),r.createElement("a",{className:"sec-Author_Link",href:"https://github.com/alruban/ens-orb"},r.createElement(_.Q,{src:N,beforeInjection:function(e){e.classList.add("sec-Author_Icon")}}))))))}const C=function(){return r.createElement(n.Z,null,r.createElement(Q,null),r.createElement("section",{className:"sec-Query"},r.createElement("div",{className:"sec-Query_Inner"},r.createElement("header",{className:"sec-Query_Header"},r.createElement("h3",{className:"sec-Query_Title"},"orb"),r.createElement("h6",{className:"sec-Query_Subtitle"},"A bulk query application for the Ethereum Name Service network."),r.createElement("p",{className:"sec-Query_Description"},"Choose the relevant delimiter, and then just paste the list of names that you want to query into the terminal below.")),r.createElement("div",{className:"sec-Query_Body"},r.createElement(v,null)))))}},6968:(e,t,a)=>{e.exports=a.p+"svgs/icon-blockscan.svg"},5276:(e,t,a)=>{e.exports=a.p+"svgs/icon-git.svg"}}]);
//# sourceMappingURL=297.main.js.map